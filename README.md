# PNL System

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PNL –æ—Ç—á–µ—Ç–∞–º–∏, –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å WordPress –Ω–∞ Node.js –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ Render.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìä –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ CSV —Ñ–∞–π–ª–æ–≤
- ü§ñ AI –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ OpenAI
- üí± –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∞–ª—é—Ç –≤ PLN
- üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤
- üîê Google OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- üóÑÔ∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase

## –î–µ–ø–ª–æ–π –Ω–∞ Render

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ Render –∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –µ–≥–æ –∑–∞–º–µ–Ω–∏—Ç—å:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Dashboard Render
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ–µ–∫—Ç
3. –û–±–Ω–æ–≤–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Build Command**: `npm install`
   - **Start Command**: `npm start`
   - **Root Directory**: –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫ Render
2. –í—ã–±–µ—Ä–∏—Ç–µ **Web Service**
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Name**: `pnl-system`
   - **Runtime**: `Node`
   - **Build Command**: `npm install`
   - **Start Command**: `npm start`

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Render:

```
SUPABASE_URL=https://fzgajnjtxvkhkfiqkhtb.supabase.co
SUPABASE_SERVICE_KEY=your-supabase-service-key
OPENAI_API_KEY=your-openai-api-key
DEMO_MODE=true
NODE_ENV=production
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞ Render

- **–°–µ—Ä–≤–∏—Å—ã**: –û–±—ã—á–Ω–æ 1-2 —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç
- **–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã**: ~750 —á–∞—Å–æ–≤ –≤ –º–µ—Å—è—Ü (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ –Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏)
- **–†–∞–∑–º–µ—Ä**: –î–æ 512MB RAM, 1GB storage
- **–î–æ–º–µ–Ω**: –û–¥–∏–Ω –∫–∞—Å—Ç–æ–º–Ω—ã–π –¥–æ–º–µ–Ω
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–æ–Ω**: –°–µ—Ä–≤–∏—Å—ã –∑–∞—Å—ã–ø–∞—é—Ç –ø–æ—Å–ª–µ 15 –º–∏–Ω—É—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Å—ã–ø–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ (~30 —Å–µ–∫ cold start)

### –ü—Ä–æ–µ–∫—Ç—ã –ø–æ –Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏ - –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è Render!

–í–∞—à —Å–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è Render:
- ‚úÖ –°–µ—Ä–≤–∏—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Å—ã–ø–∞—é—Ç –ø—Ä–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏

## –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ –ë–ï–ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
npm run dev:local  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç Google OAuth

# –ó–∞–ø—É—Å–∫ –≤ development —Ä–µ–∂–∏–º–µ (—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π)
npm run dev

# –ó–∞–ø—É—Å–∫ –≤ production —Ä–µ–∂–∏–º–µ
npm start
```

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

- **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** (`npm run dev:local`):
  - ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞
  - ‚úÖ –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ dashboard
  - ‚úÖ –í—Å–µ API —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ —Ç–æ–∫–µ–Ω–æ–≤
  
- **–ü—Ä–æ–¥–∞–∫—à–Ω –Ω–∞ Render**:
  - üîê –ü–æ–ª–Ω–∞—è Google OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - üîí –í—Å–µ API –∑–∞—â–∏—â–µ–Ω—ã
  - üìä –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–æ—Å—Ç—É–ø–µ–Ω

## API Endpoints

- `POST /api/auth` - Google OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `POST /api/analyze-csv` - –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ CSV —Ñ–∞–π–ª–æ–≤
- `GET /api/categories` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `POST /api/categories` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `PUT /api/categories/:type/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `DELETE /api/categories/:type/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `GET /api/pnl-operations` - –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- `POST /api/pnl-operations` - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `DELETE /api/pnl-operations/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ server.js          # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ package.json       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ api/              # API —Ä–æ—É—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å)
‚îú‚îÄ‚îÄ dashboard.html    # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ index.html        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ script.js         # Frontend JavaScript
‚îî‚îÄ‚îÄ styles.css        # –°—Ç–∏–ª–∏
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ Render

–ü–æ—Å–ª–µ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "Update features"

# –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Render
npm run deploy:render
```

Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ü–æ–¥—Ç—è–Ω–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ GitHub
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`npm install`)
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –≤ production —Ä–µ–∂–∏–º–µ
- ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫

## üìã Spec-Driven Development

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å [Spec-Kit](https://github.com/github/spec-kit) –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π.

### Quick Commands

```bash
# –°–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
/speckit.spec –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ Excel

# –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
/speckit.plan –ë—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å xlsx –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è Node.js

# –†–∞–∑–±–∏—Ç—å –Ω–∞ –∑–∞–¥–∞—á–∏
/speckit.tasks

# –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é
/speckit.implement
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Spec-Kit

```
specs/
‚îú‚îÄ‚îÄ README.md                 # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
‚îú‚îÄ‚îÄ [feature-name]/
‚îÇ   ‚îú‚îÄ‚îÄ spec.md              # –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ plan.md              # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω
‚îÇ   ‚îî‚îÄ‚îÄ tasks.md             # –ó–∞–¥–∞—á–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ templates/               # –®–∞–±–ª–æ–Ω—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

memory/
‚îî‚îÄ‚îÄ constitution.md          # –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ PNL —Å–∏—Å—Ç–µ–º—ã
```

–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ —Å–º. [specs/README.md](./specs/README.md)
